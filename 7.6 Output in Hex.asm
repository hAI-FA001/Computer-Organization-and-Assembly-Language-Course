org 100h

.code
NUMBER EQU 0CAFEh

MOV DX, 0
MOV BX, NUMBER
MOV CX, 4

OUTPUT:

	MOV DL, BH
	SHR DL, 4
	
	CMP DL, 10
	JL IS_DEC
	
	AND DL, 0000_0111b	;YYYY 1010 -> 0000 0010
	OR DL, 0100_0000b	;0000 0010 -> 0100 0010 
	MOV DH, 01h			;0100 0010 -> 0100 0001
	JMP SUB_ONE
	AFTER_SUB:
	
	JMP DISPLAY
	
	IS_DEC:
		OR DL, 0011_0000b
	
	DISPLAY:
		MOV AH, 2
		INT 21h
	ROL BX, 4	

LOOP OUTPUT

ret

SUB_ONE:
	
	TEST DL, DH
	JZ HAS_ZERO
	XOR DL, DH
	JMP AFTER_SUB
	
	HAS_ZERO:
		XOR DL, DH
		SHL DH, 1
	
JMP SUB_ONE	